\name{g.analyse}
\alias{g.analyse}
\title{
  Function to analsyse meta-data generated by \link{g.getmeta} and \link{g.impute}
}
\description{
  Analyses the output from other functions within the packages to generate a basic
  descriptive summary for each accelerometer data file. Analyses include: Average 
  acceleration per day, per measurement, L5M5 analyses (assessment of the five
  hours with lowest acceleration and with highest acceleration). Further, the 
  traditionally popular variable MVPA is automatically extracted in six variants:
  without bout criteria in combination with epoch = epoch length as defined in
  g.getmeta (first value of the input argument windowsizes), 1 minute,
  and 5 minutes, and for bout durations 1 minute, 5 minutes or 10 minutes in
  combination with the epoch length as defined in g.getmeta.
}
\usage{
  g.analyse(I, C, M, IMP, qlevels = c(), qwindow = c(0, 24),
    quantiletype = 7, L5M5window = c(0, 24), M5L5res = 10,
    includedaycrit = 16, ilevels = c(),
    winhr = 5, idloc = 1, snloc=1, mvpathreshold = c(),
    boutcriter=c(), mvpadur=c(1,5,10),
    selectdaysfile=c(), window.summary.size=10,
    dayborder=0, bout.metric = 1,
    closedbout=FALSE, desiredtz = "",
    IVIS_windowsize_minutes = 60,
    IVIS_epochsize_seconds = c(), iglevels = c(), IVIS.activity.metric=2,
    qM5L5=c(), myfun=c(), MX.ig.min.dur=10)
}
\arguments{
  \item{I}{
    the output from function \link{g.inspectfile}
  }
  \item{C}{
    the output from function \link{g.calibrate}
  }
  \item{M}{
    the output from function \link{g.getmeta}
  }
  \item{IMP}{
    the output from function \link{g.impute}
  }
  \item{qlevels}{
    See \link{g.part2}
  }
  \item{qwindow}{
    See \link{g.part2}
  }
  \item{quantiletype}{
    type of quantile function to use (default recommended). For details, see 
    quantile function in STATS package
  }
  \item{L5M5window}{
    See \link{g.part2}
  }
  \item{M5L5res}{
    See \link{g.part2}
  }
  \item{includedaycrit}{
   See \link{g.part1}
  }
  \item{ilevels}{
   See \link{g.part2} 
  }
  \item{winhr}{
   See \link{g.part2} 
  }
  \item{idloc}{
   See \link{g.part1}
  }
  \item{snloc}{
    If value = 1 (default) the code assumes that device serial number is stored in
    the obvious header field. If value = 2 the code uses the character string between
    the first and second character '_' in the filename as the serial number
  }
  \item{mvpathreshold}{
    See \link{g.part2}
  }
  \item{boutcriter}{
    See \link{g.part2}
  }
  \item{mvpadur}{
    See \link{g.part2}
  }
  \item{selectdaysfile}{
    See \link{g.part1}
  }
  \item{dayborder}{
    See \link{g.part1}
  }
  \item{window.summary.size}{
    See \link{g.part2}
  }
  \item{bout.metric}{
    See \link{g.part2}
  }
  \item{closedbout}{
    See \link{g.part2}
  }
  \item{desiredtz}{
    See \link{g.part1}
  }
  \item{IVIS_windowsize_minutes}{
    See \link{g.part2}
  }
  \item{IVIS_epochsize_seconds}{
    See \link{g.part2}
  }
  \item{iglevels}{
    See \link{g.part2}
  }
  \item{IVIS.activity.metric}{
    See \link{g.part2}
  }
  \item{qM5L5}{
    See \link{g.part2}
  }
  \item{myfun}{
    External function object to be applied to raw data, see \link{g.getmeta}.
  }
  \item{MX.ig.min.dur}{
    See \link{g.part2}
  }
}
\value{
  g.analyse generated two data,franeL
  \item{\code{summary}}{summary for the file that was analysed}
  \item{\code{daysummary}}{summary per day for the file that was analysed}
  These data.frames are used by function g.report.part2 to generate csv reports.
  An exaplantion of all the columns in the data.frame and subsequent csv reports
  can be found in the package vignette (Output part 2).
}
\examples{
  data(data.getmeta)
  data(data.inspectfile)
  data(data.calibrate)
  \dontrun{
    #inspect file:
    I = g.inspectfile(datafile)
    
    #autocalibration:
    C = g.calibrate(datafile) 
    
    #get meta-data:
    M = g.getmeta(datafile, desiredtz = "Europe/London", 
    windowsizes = c(5, 900, 3600),
    daylimit = FALSE, offset = c(0, 0, 0), 
    scale = c(1, 1, 1), tempoffset = c(0, 0, 0))
  }
  #impute meta-data:
  IMP = g.impute(M = data.getmeta, I = data.inspectfile)
  
  #analyse and produce summary:
  A = g.analyse(I = data.inspectfile, C = data.calibrate,
  M = data.getmeta, IMP)
}
\author{
  Vincent T van Hees <v.vanhees@accelting.com>
}